<!doctype html>
<html>

<head>
  <style>
    * {
      font-size: 20px;
    }

    pre {
      white-space: nowrap;
    }

    body {
      background-color: var(--shade0);
    }
  </style>
  <script type="text/x-thebe-config">
      { bootstrap: false }
    </script>
  <script src="https://unpkg.com/thebe@latest/lib/index.js"></script>
  <script>
    window.addEventListener("load", () => {
      let repo = "binder-examples/requirements";
      // let kernel = "python3";
      // let language = "python3";
      let kernel = "haskell";
      let language = "haskell";
      let code = btoa(`print("Hello World!")`);

      try {
        repo = window.frameElement.getAttribute("data-repo");
        kernel = window.frameElement.getAttribute("data-kernel");
        language = window.frameElement.getAttribute("data-language");
        code = window.frameElement.getAttribute("data-code");
      } catch (_) { }

      let thebe = document.getElementById("thebe");
      thebe.innerText = atob(code);
      thebe.setAttribute("data-language", language);

      let options = {
        requestKernel: true,
        useBinder: false,
        kernelOptions: {
          name: kernel || "python3",
          kernelName: kernel || "python3",
          path: ".",
          serverSettings: {
            appendToken: false,
            baseUrl: "http://localhost:8888",
            token: "plc-ng",
          },
        },
      };
      console.log(options);

      thebelab.bootstrap(options);
    });
  </script>
</head>

<body>
  <div class="thebe-status"></div>
  <pre id="thebe" data-executable="true"></pre>
</body>

</html>
